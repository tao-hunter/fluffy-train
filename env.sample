## Pipeline Service env file
## Rename this file to `.env` (or set env vars another way) and adjust as needed.

# --- API ---
HOST=0.0.0.0
PORT=10006

# --- GPU selection ---
QWEN_GPU=0
TRELLIS_GPU=0
RECONVIAGEN_GPU=0

# --- Precision ---
QWEN_DTYPE=bf16

# --- HuggingFace (optional but recommended if pulling gated models) ---
HF_TOKEN=

# --- Output / debugging ---
SAVE_GENERATED_FILES=false
SEND_GENERATED_FILES=false
OUTPUT_DIR=generated_outputs

# --- Multi-view strategy (quality vs hallucination) ---
# Recommended for fidelity: keep INCLUDE_ORIGINAL_VIEW=true and generate a couple missing views.
USE_QWEN_VIEWS=true
INCLUDE_ORIGINAL_VIEW=true
# JSON array string (Pydantic v2): e.g. ["side_view","back_view"]
QWEN_VIEW_KEYS=["side_view","back_view"]

# --- Trellis quality knobs (higher = slower, usually more detail) ---
TRELLIS_SPARSE_STRUCTURE_STEPS=8
TRELLIS_SPARSE_STRUCTURE_CFG_STRENGTH=5.75
TRELLIS_SLAT_STEPS=20
TRELLIS_SLAT_CFG_STRENGTH=2.4
TRELLIS_NUM_OVERSAMPLES=3

# --- ReconViaGen ---
USE_RECONVIAGEN=true
RECONVIAGEN_MULTIIMAGE_ALGO=multidiffusion

# --- Background removal ---
BACKGROUND_REMOVAL_MODEL_ID=ZhengPeng7/BiRefNet
INPUT_IMAGE_SIZE=[1024,1024]
OUTPUT_IMAGE_SIZE=[518,518]
PADDING_PERCENTAGE=0.2
LIMIT_PADDING=true
# Lower helps keep thin details (text, beams, straps) but may include more background.
RMBG_MASK_THRESHOLD=0.8

# --- Optional ---
COMPRESSION=false


